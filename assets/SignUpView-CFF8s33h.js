import{r as n,u as h,c as m,a as e,g as u,v as p,w as f,t as w,j as b,o as v}from"./index-D3aLTOQS.js";import{a as C}from"./axios-C8DqakIB.js";const U={id:"signUpPage",class:"bg-yellow"},y={class:"conatiner signUpPage vhContainer"},x=e("div",{class:"side"},[e("a",null,[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),k={class:"formControls"},V=e("h2",{class:"formControls_txt"},"註冊帳號",-1),P=e("label",{class:"formControls_label",for:"email"},"Email",-1),q=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),B=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),E=e("label",{class:"formControls_label",for:"pwd2"},"再次輸入密碼",-1),M=e("a",{class:"formControls_btnLink",href:"./#/login"},"登入",-1),N={key:0},S="https://todolist-api.hexschool.io",j={__name:"SignUpView",setup(D){const a=n(""),t=n(""),s=n(""),r=n(""),c=n(""),d=n(""),g=h(),_=async()=>{if(d.value="",!a.value||!t.value||!s.value||!r.value){alert("請輸入完整資料");return}if(s.value!==r.value){alert("密碼不一致");return}console.log(a.value,t.value,s.value,r.value);try{await C.post(`${S}/users/sign_up`,{email:a.value,password:s.value,nickname:t.value}).then(i=>{console.log(i.data),alert("註冊成功"),a.value="",s.value="",t.value="",c.value=i.data.uid,console.log(c.value),g.push({path:"/login"})})}catch(i){alert(i.response.data.message+" 請重新嘗試")}};return(i,o)=>(v(),m("div",U,[e("div",y,[x,e("div",null,[e("form",k,[V,P,u(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=l=>a.value=l)},null,512),[[p,a.value]]),q,u(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=l=>t.value=l)},null,512),[[p,t.value]]),B,u(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[2]||(o[2]=l=>s.value=l)},null,512),[[p,s.value]]),E,u(e("input",{class:"formControls_input",type:"password",name:"pwd2",id:"pwd2",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":o[3]||(o[3]=l=>r.value=l)},null,512),[[p,r.value]]),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:f(_,["prevent"])}),M,d.value?(v(),m("span",N,w(d.value),1)):b("",!0)])])])]))}};export{j as default};
