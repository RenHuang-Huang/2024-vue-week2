import{o as i,c as l,a as t,t as o,w as $,F as h,b as N,r as y,d as b,e as f,f as x,g as w,v as k,h as g}from"./index-D3aLTOQS.js";const C={class:"d-flex w-100 justify-content-between"},S={class:"mb-1"},T={class:"mb-1"},V={__name:"Menu",props:{name:String,description:String,price:Number},emits:["add-to-cart"],setup(p,{emit:c}){const n=p,u=c,v=()=>{u("add-to-cart",{props:n})};return(m,a)=>(i(),l("a",{href:"#",class:"list-group-item list-group-item-action",onClick:a[0]||(a[0]=s=>v())},[t("div",C,[t("h5",S,o(n.name),1),t("small",null,"$"+o(n.price),1)]),t("p",T,o(n.description),1)]))}},Q=["value"],D=N('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),A=[D],B={__name:"Cart",props:{id:Number,name:String,description:String,price:Number,quantity:Number},emits:["delete-item","update-quantity"],setup(p,{emit:c}){const n=p,u=c,v=a=>{u("delete-item",n)},m=a=>{u("update-quantity",n,Number(a.target.value))};return(a,s)=>(i(),l(h,null,[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:s[0]||(s[0]=q=>v(n.id))},"X")]),t("td",null,o(n.name),1),t("td",null,[t("small",null,o(n.description),1)]),t("td",null,[t("select",{class:"form-select",value:n.quantity,onChange:$(m,["prevent"])},A,40,Q)]),t("td",null,o(n.price),1),t("td",null,o(n.price*n.quantity),1)],64))}},I={__name:"Order",props:{name:String,quantity:Number,price:Number},setup(p){const c=p;return(n,u)=>(i(),l(h,null,[t("td",null,o(c.name),1),t("td",null,o(c.quantity),1),t("td",null,o(c.quantity*c.price),1)],64))}},M={id:"root"},O={class:"container mt-5"},U={class:"row"},j={class:"col-md-4"},E={class:"col-md-8"},F={class:"table"},J=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),L={class:"text-end mb-3"},P={class:"text-end"},X=t("hr",null,null,-1),z={class:"row justify-content-center"},G={class:"col-8"},H={class:"card"},K={class:"card-body"},R={key:0,class:"card-title"},W=t("h5",null,"訂單",-1),Y=t("p",null,"尚未點餐",-1),Z=[W,Y],tt={key:1,class:"card-title"},et=t("h5",null,"訂單",-1),nt={class:"table"},ot=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),st={class:"text-end"},it={class:"text-end"},ct={__name:"PossystemView",setup(p){const c=y([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=y([]),u=r=>{if(n.value.some(d=>d.id===r.id))return alert("已經加入購物車");n.value.push({...r,quantity:1}),console.log("購物車:",n)},v=(r,d)=>{console.log("變更項:",r),n.value.forEach(e=>{e.id===r.id&&(e.quantity=d)})},m=r=>{console.log("刪除項:",r);const d=n.value.findIndex(e=>e.id===r.id);n.value.splice(d,1),console.log("購物車:",n)},a=y(""),s=y([]),q=()=>{s.value=JSON.parse(JSON.stringify(n.value)),s.value.note=a.value,console.log("購物車:",n.value),console.log("訂單:",s.value)};return(r,d)=>(i(),l("div",M,[t("div",O,[t("div",U,[t("div",j,[(i(!0),l(h,null,b(c.value,e=>(i(),l("div",{class:"list-group",key:e.id},[g(V,{id:e.id,name:e.name,price:e.price,description:e.description,onAddToCart:_=>u(e)},null,8,["id","name","price","description","onAddToCart"])]))),128))]),t("div",E,[t("table",F,[J,t("tbody",null,[(i(!0),l(h,null,b(n.value,e=>(i(),l("tr",{key:e.id},[g(B,{id:e.id,name:e.name,description:e.description,price:e.price,quantity:e.quantity,onUpdateQuantity:v,onDeleteItem:m},null,8,["id","name","description","price","quantity"])]))),128))])]),t("div",L,[t("h5",null,[f(" 總計: "),t("span",null,o(x(()=>n.value.reduce((e,_)=>e+_.price*_.quantity,0))),1)])]),w(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":d[0]||(d[0]=e=>a.value=e)},null,512),[[k,a.value]]),t("div",P,[t("button",{class:"btn btn-primary",onClick:d[1]||(d[1]=e=>q())},"送出")])])]),X,t("div",z,[t("div",G,[t("div",H,[t("div",K,[s.value.length===0?(i(),l("div",R,Z)):(i(),l("div",tt,[et,t("table",nt,[ot,t("tbody",null,[(i(!0),l(h,null,b(s.value,e=>(i(),l("tr",{key:e.id},[g(I,{name:e.name,quantity:e.quantity,price:e.price},null,8,["name","quantity","price"])]))),128))])]),t("div",st,[f(" 備註: "),t("span",null,o(s.value.note),1)]),t("div",it,[t("h5",null,[f(" 總計: "),t("span",null," $"+o(x(()=>s.value===void 0?"":s.value.reduce((e,_)=>e+_.price*_.quantity,0))),1)])])]))])])])])])]))}};export{ct as default};
